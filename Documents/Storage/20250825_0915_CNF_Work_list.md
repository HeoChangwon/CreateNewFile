# CreateNewFile 프로젝트 작업 리스트
**날짜**: 2025-08-25 09:15
**파일명**: 20250825_0915_CNF_Work_list.md

## 작업 개요
CreateNewFile 프로젝트의 기능 개선 및 버그 수정 작업

## 완료된 작업 목록

### 1. 사용 통계 기능 제거
- **위치**: `Models/PresetItem.cs`, `Services/SettingsService.cs`, `ViewModels/SettingsViewModel.cs`, `ViewModels/MainViewModel.cs`
- **작업 내용**:
  - `PresetItem` 모델에서 `UsageCount`, `LastUsed`, `UsageInfo` 속성 제거
  - `MarkAsUsed()` 메서드 제거
  - 관련 코드에서 사용 통계 참조 부분 정리
  - 정렬 로직을 사용 횟수 기준에서 알파벳 순으로 변경

### 2. 메인 화면에 각 항목별 체크박스 추가
- **위치**: `Views/MainWindow.xaml`, `ViewModels/MainViewModel.cs`
- **작업 내용**:
  - 날짜/시간, 약어, 제목, 접미어 항목에 각각 체크박스 추가
  - `MainViewModel`에 활성화 상태 속성 추가:
    - `IsDateTimeEnabled`
    - `IsAbbreviationEnabled`
    - `IsTitleEnabled`
    - `IsSuffixEnabled`
  - 체크박스 상태 변경 시 자동으로 파일명 미리보기 업데이트
  - 그리드 컬럼 구조 수정 (체크박스용 컬럼 추가)

### 3. 비활성화된 항목의 UI 흐리게 처리
- **위치**: `Utils/Converters.cs`, `Views/MainWindow.xaml`
- **작업 내용**:
  - `BooleanToOpacityConverter` 컨버터 추가
  - 비활성화된 항목들의 투명도를 50%로 설정
  - 체크박스가 해제된 항목의 라벨과 입력 컨트롤들이 시각적으로 흐리게 표시

### 4. 파일명 조합에서 비활성화 항목 제외 처리
- **위치**: `Utils/FileNameBuilder.cs`, `Services/FileGeneratorService.cs`, `Services/IFileGeneratorService.cs`, `ViewModels/MainViewModel.cs`
- **작업 내용**:
  - `FileNameBuilder.GenerateFileName()` 메서드에 각 항목별 활성화 상태 매개변수 추가
  - 서비스 인터페이스 및 구현 클래스 업데이트
  - 비활성화된 항목은 파일명 생성 시 제외되도록 로직 수정
  - 실시간 파일명 미리보기 업데이트

### 5. 메인화면과 설정 관리 창 가로 폭 600픽셀로 조정
- **위치**: `Views/MainWindow.xaml`, `Views/SettingsWindow.xaml`
- **작업 내용**:
  - `MainWindow.xaml`: Width를 786에서 600으로 변경
  - `SettingsWindow.xaml`: Width를 300에서 600으로, MinWidth를 700에서 600으로 변경
  - 더 컴팩트하고 사용하기 편리한 인터페이스 제공

### 6. 설정관리 창에 다중 선택 삭제 기능 추가
- **위치**: `Views/SettingsWindow.xaml`, `Views/SettingsWindow.xaml.cs`, `ViewModels/SettingsViewModel.cs`
- **작업 내용**:
  - ListView에 `SelectionMode="Extended"` 설정하여 다중 선택 가능
  - "선택 삭제" 버튼 추가
  - `SettingsViewModel`에 `DeleteSelectedItemsCommand` 및 관련 메서드 구현
  - Code-behind에서 ListView 선택 변경 이벤트 처리
  - 선택된 여러 항목을 한번에 삭제하는 기능

### 7. 체크박스 상태 설정 저장/복원 기능 추가
- **위치**: `Models/AppSettings.cs`, `Services/ISettingsService.cs`, `Services/SettingsService.cs`, `ViewModels/MainViewModel.cs`
- **작업 내용**:
  - `AppSettings` 모델에 체크박스 상태 저장 속성 추가
  - `ISettingsService`에 체크박스 상태 관리 메서드 추가:
    - `SaveCheckboxStatesAsync()` - 체크박스 상태 저장
    - `LoadCheckboxStatesAsync()` - 체크박스 상태 로드
  - `SettingsService`에 구현 추가
  - `MainViewModel`에서 체크박스 상태 관리:
    - 체크박스 변경 시 즉시 설정 파일에 저장
    - 앱 시작 시 이전 상태로 자동 복원
  - 프로그램 종료 후 재시작해도 마지막 체크박스 상태 유지

### 8. 전체 경로 표시 개선
- **위치**: `Views/MainWindow.xaml`
- **작업 내용**:
  - 높이를 55픽셀로 설정 (약 2-3줄 표시 가능)
  - 세로 스크롤바 자동 표시 (`VerticalScrollBarVisibility="Auto"`)
  - 텍스트 래핑 활성화 (`TextWrapping="Wrap"`)
  - 긴 경로도 모두 볼 수 있도록 개선

### 9. 체크박스 상태 유지 문제 해결
- **위치**: `ViewModels/MainViewModel.cs`
- **문제**: 체크박스 상태가 프로그램 재시작 시 유지되지 않음
- **원인**: 체크박스 상태 로드 시 PropertyChanged 이벤트로 인한 순환 호출
- **해결책**:
  - `_isLoadingCheckboxStates` 플래그 추가
  - 로드 중에는 저장하지 않도록 제어
  - 디버깅 로그 추가로 저장/로드 과정 추적 가능
  - 무한 루프 방지 및 성능 개선

## 기술적 개선사항

### 코드 품질 향상
- 사용하지 않는 사용 통계 기능 제거로 코드 간소화
- 체크박스 상태 관리 로직의 안정성 향상
- PropertyChanged 이벤트 최적화

### 사용자 경험 개선
- 직관적인 체크박스로 파일명 구성 요소 제어
- 비활성화된 항목의 시각적 피드백 제공
- 실시간 파일명 미리보기 업데이트
- 적절한 창 크기로 UI 최적화

### 데이터 지속성
- 모든 사용자 설정이 프로그램 재시작 후에도 유지
- JSON 설정 파일을 통한 안정적인 데이터 저장

## 파일 수정 이력

### 새로 추가된 파일
- 없음

### 수정된 파일
1. `Models/AppSettings.cs`
2. `Models/PresetItem.cs`
3. `Services/ISettingsService.cs`
4. `Services/SettingsService.cs`
5. `Services/FileGeneratorService.cs`
6. `Services/IFileGeneratorService.cs`
7. `Utils/FileNameBuilder.cs`
8. `Utils/Converters.cs`
9. `ViewModels/MainViewModel.cs`
10. `ViewModels/SettingsViewModel.cs`
11. `Views/MainWindow.xaml`
12. `Views/SettingsWindow.xaml`
13. `Views/SettingsWindow.xaml.cs`

## 빌드 및 테스트 결과
- **빌드 상태**: 성공 ✅
- **경고**: 8개 (기존 null 관련 경고, 기능에 영향 없음)
- **오류**: 0개
- **테스트 상태**: 모든 기능 정상 동작 확인

## 사용자 가이드

### 새로운 기능 사용법
1. **체크박스 활용**: 메인 화면에서 날짜/시간, 약어, 제목, 접미어 항목 각각을 체크박스로 활성화/비활성화
2. **실시간 미리보기**: 체크박스 상태 변경 시 파일명이 즉시 업데이트
3. **설정 유지**: 프로그램 종료 후 재시작해도 마지막 체크박스 상태 유지
4. **다중 삭제**: 설정 관리 창에서 Ctrl+Click으로 여러 항목 선택 후 "선택 삭제" 버튼 사용
5. **경로 확인**: 전체 경로가 길어도 텍스트박스에서 스크롤하여 전체 내용 확인 가능

## 향후 개발 계획
- 체크박스 개별 항목별 기본값 설정 기능
- 사용자 정의 파일명 패턴 기능
- 추가적인 UI/UX 개선

---
**작업자**: Claude Code Assistant  
**프로젝트**: CreateNewFile  
**작업 완료일**: 2025-08-25