# CreateNewFile 작업 내역 (2025-10-16)

## 작업 일시
- 작성: 2025년 10월 16일 21:08

## 이번 세션 작업 내용

### 1. 탭 영역 최소 높이 조정
**문제점**: 창 크기를 세로로 줄이면 탭 영역에 스크롤바가 나타나고 확장자 부분이 가려짐

**해결 방법**:
- 모든 탭의 ScrollViewer MinHeight를 430픽셀로 설정
  - 파일정보 탭: `MinHeight="430"`
  - 경로설정 탭: `MinHeight="430"`
  - 문자열 교체 탭: `MinHeight="430"`

**수정 파일**:
- `Views/MainWindow.xaml` (Line 186, 349, 455)

### 2. 창 크기 제한 조정
**문제점**: MinHeight가 너무 커서 창이 지나치게 큰 상태로 고정됨

**해결 방법**:
- Window의 기본 높이와 최소 높이 조정
  - 기본 높이: `Height="1000"`
  - 최소 높이: `MinHeight="980"`

**수정 파일**:
- `Views/MainWindow.xaml` (Line 9, 11)

### 3. 프로젝트 설정 가져오기 초기 폴더 설정
**문제점**: "가져오기" 버튼 클릭 시 파일 선택 대화상자가 기본 폴더에서 시작됨

**해결 방법**:
- 템플릿 파일이 선택되어 있으면 해당 템플릿 폴더를 초기 폴더로 설정
- `OpenFileDialog.InitialDirectory` 속성에 템플릿 폴더 경로 할당

**추가 코드**:
```csharp
// 템플릿 파일이 선택되어 있으면 템플릿 폴더를 초기 폴더로 설정
if (!string.IsNullOrWhiteSpace(SelectedTemplatePath) && File.Exists(SelectedTemplatePath))
{
    var templateFolder = Path.GetDirectoryName(SelectedTemplatePath);
    if (!string.IsNullOrWhiteSpace(templateFolder) && Directory.Exists(templateFolder))
    {
        openDialog.InitialDirectory = templateFolder;
    }
}
```

**수정 파일**:
- `ViewModels/MainViewModel.cs` (Line 2051-2059)

## 이전 세션에서 완료된 주요 기능

### 프로젝트 설정 저장/로드 기능 (.cnfjson)
1. **데이터 모델 생성**
   - `Models/ProjectConfig.cs`: 프로젝트 설정 데이터 모델
   - `Models/ProjectFileInfo.cs`: 파일 정보 데이터 모델

2. **서비스 구현**
   - `Services/IProjectConfigService.cs`: 인터페이스 정의
   - `Services/ProjectConfigService.cs`: JSON 직렬화/역직렬화 구현

3. **UI 구성**
   - "📥 가져오기" 버튼: 프로젝트 설정 파일 로드
   - "💾 내보내기" 버튼: 현재 설정을 파일로 저장
   - 버튼 위치: "저장된 파일정보" 그룹 내부

4. **자동 저장 기능**
   - 내보내기 시 템플릿 파일명을 기반으로 자동 파일명 생성
   - 템플릿 폴더에 자동 저장
   - 파일이 이미 존재하면 덮어쓰기 확인만 표시

5. **명령줄 인자 처리**
   - `App.xaml.cs`: .cnfjson 파일을 인자로 받아 자동 로드
   - Windows 탐색기에서 .cnfjson 파일 더블클릭 시 프로그램 실행 및 자동 로드

6. **파일 연결 등록**
   - `NSIS_installer/CreateNewFile_Installer.nsi`: Windows 레지스트리에 .cnfjson 파일 연결 등록
   - CreateNewFile을 .cnfjson 파일의 기본 프로그램으로 설정

## 빌드 결과
- 빌드 성공: 0 오류, 38 경고
- 경고는 Null 허용 참조 및 미사용 변수 관련 (기능에 영향 없음)

## 테스트 항목
1. ✓ 창 크기를 최소로 줄였을 때 파일 정보 입력 영역(확장자까지) 가시성 확인
2. ✓ 탭 영역 내부 스크롤 동작 확인
3. ✓ "가져오기" 버튼 클릭 시 템플릿 폴더에서 파일 선택 대화상자 시작 확인
4. 프로젝트 설정 저장/로드 기능 전체 워크플로우 테스트 필요
5. .cnfjson 파일 더블클릭 시 프로그램 자동 실행 및 설정 로드 확인 필요

## 참고 사항
- 모든 변경사항은 정상적으로 빌드됨
- UI 레이아웃은 사용자 피드백을 반영하여 최적화됨
- 프로젝트 설정 파일은 UTF-8 BOM 인코딩, camelCase JSON 형식 사용
